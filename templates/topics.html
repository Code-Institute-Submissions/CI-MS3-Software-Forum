<!DOCTYPE html>

{% extends 'base.html'%}
{% block content %}

<h1>Choose the best software for your purpose</h1>

<!-- table header -->
<div class="row">

	<div class="col s5">
		Title
	</div>
	<div class="col s2">
		Date published
	</div>
	<div class="col s2">
		Platform
	</div>
	<div class="col s1">
		Cost
	</div>
	<div class="col s1">
		Answers
	</div>
	<div class="col s1">
		chev+del
	</div>

</div>

<div class="row">
	<ul class="collapsible" data-collapsible="accordion">
		{% for topic in topics %}
		<li>
			<div class="collapsible-header">

				<div class="col s5">
					{{topic.title}}
				</div>
				<div class="col s2">
					Date published
				</div>
				<div class="col s2">
                    {% for getos in topic.os %}
                        {{ getos }}
                        {% if not loop.last %}
                            , 
                        {% endif %}
                    {% endfor %}

				</div>
				<div class="col s1">
					{{topic.cost}}
				</div>
				<div class="col s1">
					{{ topic.answers }}
				</div>
				<div class="col s1">
					<i class="material-icons">expand_more</i>
				</div>


			</div>
			<div class="collapsible-body">
                <div class="row">
                    <div class="col s11">
                        {{topic.details}}
                    </div>
                    <div class="col s1">
                        <a href="{{url_for('delete_topic', topic_id=topic._id)}}"><i class="fas fa-trash-alt"></i></a>
                        <a href="{{url_for('edit_topic', topic_id=topic._id)}}"><i class="fas fa-edit"></i></a>
                    </div>
                </div>
                <hr>
				{% for answer in answers %}
				{% if answer.topic == topic.title %}
				<div class="row">
					<div class="col s10">
						{{answer.text}}
						<br>
                        {{answer.name}}
					</div>

						<div class="col s1">
							<i class="fas fa-thumbs-up"></i>
							{{answer.rating_pos}}
						</div>
						<div class="col s1">
							<i class="fas fa-thumbs-down"></i>
							{{answer.rating_neg}}
						</div>
					</div>
					<hr>
					{% endif %}
					{% endfor %}

					<div class="row">
						<button class="btn" name="action">New comment              
                    </button>
					</div>

				</div>

		</li>
		{% endfor %}
	</ul>
</div>

{% endblock %}